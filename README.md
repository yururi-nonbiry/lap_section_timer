# lap_section_timer
## ラップ&セクションタイマー
---
## 1. 概要
ミニ四駆用ラップ&セクションタイマーです。  
ラップタイム、及びセクションタイムが測定できるように設計してあります。  
スタート、ストップ、スタートシグナルの表示、スタートシグナルの遠隔操作、ラップタイムの表示、web_apiを使用してのwebアプリとの連携を想定しています。  


## 2. 構成
無線通信にesp-nowを使用しているため、基本的に使用するマイコンはesp32を想定しています。  
使用するデバイスと推奨製品はは下記のとおりです。  
※ 推奨基板は()内に記載しています
* マスター (M5ATOM Lite M5 core2) 1台必須  
  コントロール用となります。  
  ※ パソコンから操作する場合はM5ATOM Lite、デバイス単品で操作する場合はM5Core2を推奨します。
* スレーブ (M5ATOM Lite) 1台必須 最大17台  
  ラップタイマーのセンサーユニットとなります。  
  内1台がスタート位置(ラップタイム用)、他がセクションタイム用となります。  
* シグナル表示ユニット(M5ATOM matrix)  最大1台まで
  スタートシグナル表示ユニットになります。  
  見栄えを気にされる方はLEDバーライトを自作されることをおすすめします。  
* 遠隔操作ユニット (M5StickC Plus)  最大1台まで
  遠隔でスタート準備、スタート、ストップを操作出来るようになります。  
  レース等で第三者がスタートシグナルを操作することを想定しています。
* web_apiユニット(M5ATOM Lite) 最大1台  
  マスターとシリアル接続します。
  M5シリーズ同士であればGROVEポートで接続することを想定しています。
  webアプリと連携したいときに使用します。  
![](constitution.drawio.png)

## 3. プロトコル